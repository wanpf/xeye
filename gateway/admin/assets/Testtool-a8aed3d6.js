import{_ as ae}from"./free-22a55bb9.js";import{_ as ne,E as de,r as g,I as ie,T as G,s as ce,O as re,c as r,o as i,d as v,g as K,f as t,k as F,w as c,e,l as T,t as x,x as O,F as L,L as H,J as Q,p as ue,q as me}from"./index-c7ef22b6.js";import{P as pe}from"./PipyProxyService-5e8f3e09.js";const w=C=>(ue("data-v-cd107242"),C=C(),me(),C),_e={key:0,style:{"padding-left":"0px","padding-top":"0","padding-right":"0"}},ve={class:"text-center mt-3"},fe={class:"bg-primary border-circle w-2rem h-2rem flex align-items-center justify-content-center"},ye=w(()=>e("span",{class:"ml-2 font-medium"},"Download",-1)),he={class:"bg-primary border-circle w-2rem h-2rem flex align-items-center justify-content-center"},ge=w(()=>e("span",{class:"ml-2 font-medium"},"Ping",-1)),xe={class:"bg-primary border-circle w-2rem h-2rem flex align-items-center justify-content-center"},we=w(()=>e("span",{class:"ml-2 font-medium"},"OS Query",-1)),be={class:"bg-primary border-circle w-2rem h-2rem flex align-items-center justify-content-center"},Se=w(()=>e("span",{class:"ml-2 font-medium"},"DB Query",-1)),Te={class:"w-3rem h-2rem flex align-items-center justify-content-center"},Ve=w(()=>e("span",{class:"ml-2 font-medium"},"System Proxy",-1)),Ie={class:"grid mr-2 ml-2 mt-5 mb-5"},ke={class:"col-12 md:col-9"},Oe={key:0},Ce={class:"app-code"},Be={class:"list-none p-0 m-0"},qe={class:"text-500 w-6 md:w-2 font-medium"},Re={key:0,class:"text-900 w-full md:w-8 md:flex-order-0 flex-order-1"},Ee={key:1,class:"text-900 w-full md:w-8 md:flex-order-0 flex-order-1"},Le={class:"text-500 w-6 md:w-2 font-medium"},Ne={class:"text-900 w-full md:w-8 md:flex-order-0 flex-order-1"},Pe={class:"list-none p-0 m-0"},Fe={class:"flex align-items-center py-3 px-5 surface-border flex-wrap"},He=w(()=>e("div",{class:"text-500 w-6 md:w-2 font-medium"},"ERROR",-1)),je={class:"text-900 w-full md:w-8 md:flex-order-0 flex-order-1"},ze={key:5,class:"text-center"},Ue=w(()=>e("img",{src:ae,class:"w-5 h-5 mx-aut",style:{margin:"auto"},alt:"free"},null,-1)),De=[Ue],Me={class:"col-12 md:col-3"},Je=["onClick"],Ae={class:"text-center"},Ge={class:""},Ke={style:{flex:"1",overflow:"hidden"}},Qe={style:{"white-space":"nowrap","text-overflow":"ellipsis",width:"95%",overflow:"hidden"}},We=w(()=>e("b",null,[O("  "),e("i",{class:"pi pi-arrow-down-left"}),O("    ")],-1)),$e={__name:"Testtool",setup(C){const V=new pe,y=de(),d=g("download"),W={download:"Typing the download address please...",ping:"Typing the ping IP address please...",os:"Typing the OS query please...",db:"Typing the sqllite query please..."},$=g({hostname:"DESKTOP-5SI23LH",osName:"Microsoft Windows 10",osVersion:"10.0.19045  Build 19045",lastBootUptime:"2023/12/26, 10:27:09",cpuInfo:"Intel64 Family 6 Model 154 Stepping 3 GenuineIntel ~2496 Mhz",ipAddress:"192.168.122.242",mac:"52-54-00-B8-84-04"}),B=g(!0),_=g(""),X=g({icon:"pi pi-desktop"}),f=g(!1),I=g({ping:[],download:[],os:[{value:"SELECT * FROM routes WHERE destination = '::1'"}],db:[{value:`Select 
		 client_ip,
		 host,
		 id,
		 request_size,
		 request_time,
		 response_code,
		 response_size,
		 response_time,
		 scheme,
		 url,
		 user_agent
		 From pipy  where  request_time > '2024-01-20 15:17:30' and  request_time < '2024-01-22 15:17:30' order by request_time desc Limit 20 Offset 0`}]});ie(()=>{var l,n;G.on("command",q),ce.commit("account/setClient",(l=y.params)==null?void 0:l.id),V.info({id:(n=y.params)==null?void 0:n.id}).then(u=>{var h;$.value=u==null?void 0:u.data,B.value=((h=u==null?void 0:u.data)==null?void 0:h.systemProxy)=="on"}).catch(u=>console.log("Request Failed",u)),ee()}),re(()=>{G.off("command",q)});const Y=()=>{var l;V.invoke({id:(l=y.params)==null?void 0:l.id,verb:B.value?"enable-proxy":"disable-proxy"}).then(n=>{}).catch(n=>{})},a=g(),Z=l=>{_.value=l,q(!1)},j=()=>{const l=JSON.parse(JSON.stringify(I.value[d.value]));l.unshift({value:_.value}),l.length>10&&l.splice(9,1),q(l)},N=l=>{l!=!1&&(I.value[d.value]=l,localStorage.setItem("History",JSON.stringify(I.value)))},ee=()=>{const l=localStorage.getItem("History");if(l)try{I.value=JSON.parse(l)}catch{}},q=l=>{var u,h,R;f.value=!0;let n=_.value.indexOf(" ");n!==-1?_.value.substring(0,n):_.value,d.value=="os"?V.os({id:(u=y.params)==null?void 0:u.id,sql:_.value}).then(s=>{a.value=s==null?void 0:s.data,N(l),f.value=!1}).catch(s=>{var p;a.value=(p=s==null?void 0:s.response)==null?void 0:p.data,f.value=!1}):d.value=="db"?V.query({id:(h=y.params)==null?void 0:h.id,sql:_.value}).then(s=>{a.value=s==null?void 0:s.data,N(l),f.value=!1}).catch(s=>{var p;a.value=(p=s==null?void 0:s.response)==null?void 0:p.data,f.value=!1}):V.invoke({id:(R=y.params)==null?void 0:R.id,verb:d.value,target:_.value}).then(s=>{a.value=s==null?void 0:s.data,N(l),f.value=!1}).catch(s=>{var p;a.value=(p=s==null?void 0:s.response)==null?void 0:p.data,f.value=!1})},te=l=>{l.code=="Enter"&&l.ctrlKey&&j()};return(l,n)=>{var D,M,J,A;const u=r("Breadcrumb"),h=r("Button"),R=r("Textarea"),s=r("InputGroup"),p=r("Card"),E=r("RadioButton"),k=r("Chip"),le=r("InputSwitch"),b=r("Skeleton"),z=r("Column"),se=r("DataTable"),U=r("Tag"),P=r("card"),oe=r("Listbox");return i(),v(L,null,[(D=K(y).params)!=null&&D.id?(i(),v("div",_e,[t(u,{home:X.value,model:[{label:(M=K(y).params)==null?void 0:M.id}]},null,8,["home","model"])])):F("",!0),t(p,{class:"nopd ml-3 mr-3 mt-3"},{content:c(()=>[t(s,null,{default:c(()=>[t(h,{label:d.value},null,8,["label"]),t(R,{onKeyup:te,modelValue:_.value,"onUpdate:modelValue":n[0]||(n[0]=o=>_.value=o),autoResize:!0,class:"drak-input bg-gray-900 text-white",placeholder:W[d.value],rows:"1",cols:"30"},null,8,["modelValue","placeholder"]),t(h,{disabled:!_.value,icon:"pi pi-arrow-down-left",onClick:j},null,8,["disabled"])]),_:1})]),_:1}),e("div",ve,[t(k,{class:"pl-0 pr-3"},{default:c(()=>[e("span",fe,[t(E,{modelValue:d.value,"onUpdate:modelValue":n[1]||(n[1]=o=>d.value=o),inputId:"cmdType2",name:"cmdType",value:"download"},null,8,["modelValue"])]),ye]),_:1}),t(k,{class:"ml-2 pl-0 pr-3"},{default:c(()=>[e("span",he,[t(E,{modelValue:d.value,"onUpdate:modelValue":n[2]||(n[2]=o=>d.value=o),inputId:"cmdType1",name:"cmdType",value:"ping"},null,8,["modelValue"])]),ge]),_:1}),t(k,{class:"ml-2 pl-0 pr-3"},{default:c(()=>[e("span",xe,[t(E,{modelValue:d.value,"onUpdate:modelValue":n[3]||(n[3]=o=>d.value=o),inputId:"cmdType1",name:"cmdType",value:"os"},null,8,["modelValue"])]),we]),_:1}),t(k,{class:"ml-2 pl-0 pr-3"},{default:c(()=>[e("span",be,[t(E,{modelValue:d.value,"onUpdate:modelValue":n[4]||(n[4]=o=>d.value=o),inputId:"cmdType1",name:"cmdType",value:"db"},null,8,["modelValue"])]),Se]),_:1}),t(k,{class:"ml-2 pl-0 pr-3 relative",style:{"vertical-align":"middle",top:"-2px"}},{default:c(()=>[e("span",Te,[t(le,{class:"relative",style:{left:"2px"},onChange:Y,modelValue:B.value,"onUpdate:modelValue":n[5]||(n[5]=o=>B.value=o)},null,8,["modelValue"])]),Ve]),_:1})]),e("div",Ie,[e("div",ke,[f.value?(i(),v("div",Oe,[t(b,{class:"mb-2",width:"10rem",height:"4rem"}),t(b,{width:"25rem",class:"mb-2"}),t(b,{class:"mb-2"}),t(b,{width:"40rem",class:"mb-2"}),t(b,{class:"mb-2"}),t(b,{height:"2rem",class:"mb-2"})])):typeof a.value=="string"?(i(),T(p,{key:1,class:"nopd"},{content:c(()=>[e("pre",Ce,[e("code",null,x(a.value),1)])]),_:1})):Array.isArray(a.value)?(i(),T(p,{key:2,class:"nopd"},{content:c(()=>[t(se,{showGridlines:"",size:"small",value:a.value,rowHover:!0,resizableColumns:"",filterDisplay:"menu",loading:f.value,responsiveLayout:"scroll"},{empty:c(()=>[O(" No results. ")]),default:c(()=>[a.value.length>0?(i(!0),v(L,{key:0},H(Object.keys(a.value[0]),(o,m)=>(i(),T(z,{key:o,showFilterOperator:!1,showFilterMatchModes:!1,field:o,header:o},{body:c(({data:S})=>[O(x(S[o]),1)]),_:2},1032,["field","header"]))),128)):(i(),T(z,{key:1,field:"result",header:"Status"},{body:c(({data:o})=>[O(" result ")]),_:1}))]),_:1},8,["value","loading"])]),_:1})):(J=a.value)!=null&&J.status?(i(),T(P,{key:3,class:"nopd"},{content:c(()=>{var o;return[e("ul",Be,[(i(!0),v(L,null,H(Object.keys(a.value),(m,S)=>(i(),v("li",{class:Q([{"border-top-1":S>0,hidden:m=="result"},"flex align-items-center py-3 px-5 surface-border flex-wrap"]),key:m},[e("div",qe,x(m),1),m!="status"?(i(),v("div",Re,x(a.value[m]),1)):m=="status"?(i(),v("div",Ee,[t(U,{severity:{OK:"success",ERROR:"danger",FAIL:"danger"}[a.value.status],value:a.value.status},null,8,["severity","value"])])):F("",!0)],2))),128)),(o=a.value)!=null&&o.result?(i(!0),v(L,{key:0},H(Object.keys(a.value.result),m=>{var S;return i(),v("li",{class:Q([{hidden:m=="status"},"border-top-1 flex align-items-center py-3 px-5 surface-border flex-wrap"]),key:m},[e("div",Le,x(m),1),e("div",Ne,x((S=a.value)==null?void 0:S.result[m]),1)],2)}),128)):F("",!0)])]}),_:1})):(A=a.value)!=null&&A.error?(i(),T(P,{key:4,class:"nopd"},{content:c(()=>[e("ul",Pe,[e("li",Fe,[He,e("div",je,[t(U,{severity:"danger",value:a.value.error},null,8,["value"])])])])]),_:1})):(i(),v("div",ze,De))]),e("div",Me,[t(P,{class:"nopd"},{content:c(()=>[t(oe,{class:"w-full",style:{border:"none"},options:I.value[d.value],optionLabel:"value",optionValue:"value",virtualScrollerOptions:{itemSize:38},listStyle:"height:350px"},{option:c(o=>[e("div",{onClick:m=>Z(o.option.value),class:"flex w-full",style:{"line-height":"38px"}},[e("div",Ae,[e("b",Ge,"    "+x(d.value)+":  ",1)]),e("div",Ke,[e("div",Qe,x(o.option.value),1)]),We],8,Je)]),_:1},8,["options"])]),_:1})])])],64)}}},et=ne($e,[["__scopeId","data-v-cd107242"]]);export{et as default};
